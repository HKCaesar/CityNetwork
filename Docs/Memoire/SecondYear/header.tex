%% Commands

\newcommand{\noun}[1]{\textsc{#1}}

% command fort head of chapter citation
\newcommand{\headercit}[3]{
\begin{multicols}{2}
\phantom{}
\columnbreak
\textit{#1}

 - \noun{#2}~#3
\end{multicols}
}



%% Math

% Operators
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\E}{\mathbb{E}}
\DeclareMathOperator{\Proba}{\mathbb{P}}

\newcommand{\Covb}[2]{\ensuremath{\Cov\!\left[#1,#2\right]}}
\newcommand{\Eb}[1]{\ensuremath{\E\!\left[#1\right]}}
\newcommand{\Pb}[1]{\ensuremath{\Proba\!\left[#1\right]}}
\newcommand{\Varb}[1]{\ensuremath{\Var\!\left[#1\right]}}

% norm
\newcommand{\norm}[1]{\| #1 \|}

% independent
\newcommand{\indep}{\rotatebox[origin=c]{90}{$\models$}}


% amsthm environments
\newtheorem{definition}{Definition}
\newtheorem{proposition}{Proposition}
\newtheorem{assumption}{Assumption}
\newtheorem{lemma}{Lemma}

\newenvironment{proof}[1][Proof]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}




\newcommand{\qed}{\nobreak \ifvmode \relax \else
      \ifdim\lastskip<1.5em \hskip-\lastskip
      \hskip1.5em plus0em minus0.5em \fi \nobreak
      \vrule height0.75em width0.5em depth0.25em\fi}



%%%%%%%%%%%%%%%%%%%
%%  Additional packages
%%%%%%%%%%%%%%%%%%%

%\usepackage{subcaption}

\usepackage{amssymb}

\usepackage{multicol}

\usepackage{bbm}


%%%

\renewcommand{\PrelimText}{%
  \footnotesize[\,\today\ at \thistime\ -- \texttt{Thesis}~\myVersion\,]}


%%%%%%%%
% bilingual version
\usepackage{ifthen}

\newcommand{\bpar}[2]{
\ifthenelse{\thelanguage=0}{#1}{}
\ifthenelse{\thelanguage=1}{#2}{}
}

% note : using these commands make section disappear from ide outline, not really practical -> better use classical commands wrapped around \bpar

%\newcommand{\bchapter}[2]{\chapter{\bpar{#1}{#2}}}
%\newcommand{\bsection}[2]{\section{\bpar{#1}{#2}}}
%\newcommand{\bsubsection}[2]{\subsection{\bpar{#1}{#2}}}
%\newcommand{\bsubsubsection}[2]{\subsubsection{\bpar{#1}{#2}}}
%\newcommand{\bchapters}[2]{\chapter*{\bpar{#1}{#2}}}
%\newcommand{\bsections}[2]{\section*{\bpar{#1}{#2}}}
%\newcommand{\bsubsections}[2]{\subsection*{\bpar{#1}{#2}}}
%\newcommand{\bsubsubsections}[2]{\subsubsection*{\bpar{#1}{#2}}}

%\newcommand{\bcaption}[2]{\caption{\bpar{#1}{#2}}}


% only one optional arg with renewcomand : trick using bpar in the optionnal arg (should check other packages)
%\renewcommand{\section}[3][]{
%\ifthenelse{\equal{#1}{}}{
%\section{\bpar{#1}{#2}}
%}{
%\section[#1]{\bpar{#2}{#3}}
%}
%}
% -> RECURSIVE PB : WHY ?

%\renewcommand{\section}[2]{\section{\bpar{#1}{#2}}}
% http://tex.stackexchange.com/questions/22576/redefining-sectioning-commands



%%%%%%%%%%
%  Drafting

% writing utilities

% comments	 and responses
%  -> use this comment to ask questions on what other wrote/answer questions with optional arguments (up to 4 answers)
\usepackage{xparse}
\usepackage{ifthen}
\DeclareDocumentCommand{\comment}{m o o o o}
{\ifthenelse{\draft=1}{
    \textcolor{red}{\textbf{C : }#1}
    \IfValueT{#2}{\textcolor{blue}{\textbf{A1 : }#2}}
    \IfValueT{#3}{\textcolor{ForestGreen}{\textbf{A2 : }#3}}
    \IfValueT{#4}{\textcolor{red!50!blue}{\textbf{A3 : }#4}}
    \IfValueT{#5}{\textcolor{Aquamarine}{\textbf{A4 : }#5}}
 }{}
}


% todo
\newcommand{\todo}[1]{
\ifthenelse{\draft=1}{\textcolor{red!50!blue}{\textbf{TODO : \textit{#1}}}}{}
}



% provisory part, removed if not draft

\newcommand{\provisory}[1]{
\ifthenelse{\draft=1}{#1}{}
}










